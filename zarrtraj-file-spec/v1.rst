Zarr Trajectory Specification
=============================


Notation
--------

- ``(name)`` is a Zarr group
- ``{name}`` is a Zarr group with an arbitrary name
- ``[variable]`` is a Zarr array
- ``<dtype>`` is the Zarr array datatype
- ``+--`` is an attribute of a group or Zarr array

Structure
---------

Zarr root
    |-- (zarrtraj)
    |   +-- version <int>
    |
    |-- (particles)
        |-- (units)
        |   +-- distance <str>
        |   +-- velocity <str>
        |   +-- force <str>
        |   +-- time <str>
        |   +-- angle <str>
        |
        |-- {group1}
            |-- (box)
            |   |-- (edges)
            |   |   |-- [step] <int>, gives frame
            |   |   +-- boundary : <str>, boundary conditions of unit cell
            |   |   |-- [value] <float>, gives box dimensions
            |   |       +-- unit <str>
            |
            |-- (position)
            |   |-- [step] <int>, gives frame
            |   |-- [time] <float>, gives time
            |   |-- [value] <float>, gives numpy array of positions
            |       with shape (frame, n_atoms, 3)
            |
            |-- (velocity)
            |   |-- [step] <int>, gives frame
            |   |-- [time] <float>, gives time
            |   |-- [value] <float>, gives numpy array of velocities
            |       with shape (frame, n_atoms, 3)
            |
            |-- (force)
                |-- [step] <int>, gives frame
                |-- [time] <float>, gives time
                |-- [value] <float>, gives numpy array of forces
                    with shape (frame, n_atoms, 3)

Additional Requirements
---------

* The zarrtraj file must contain at least one of positions, velocities, or forces
* All included elements (positions, etc) must be sampled at every frame
* Since Zarr doesn't allow linking arrays, only one step array should be included as a part of either
    positions, velocites, forces, or box/edges. The reader and writer must handle identifying the step
    array present

